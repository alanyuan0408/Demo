<div ng-app="myApp"  ng-init="">

	<div ng-controller="myCtrl">
		<button ng-click="product_json()">Greet</button>

		<div>
			<div ng-repeat="product in products">
        		<h4>{{product.name}}</h4>
        		<p>{{product.price}}</p>
    		</div>
		</div>

		<br>
		<button ng-click="product_html()">Greet</button>

		<div>
			{{ html_segment }}
		</div>

	</div>

</div>

<script>
	var app = angular.module('myApp', []);
	app.controller('myCtrl', function($scope, $http) {

		$scope.products = [];
		$scope.html_segment = ""

	    $scope.product_json = function(){
	    	var httpRequest = $http({
            method: 'POST',
            url: '/request_product.json',
            dataType: "JSON",
        	headers: {
          		'X-CSRF-Token': $('meta[name="csrf-token"]').attr('content')
        	}

        	}).success(function(data, status) {
            	$scope.products = data;
        	});
	    }

	    $scope.product_html = function(){
	    	var httpRequest = $http({
            method: 'POST',
            url: '/request_product.html',
            dataType: "JSON",
        	headers: {
          		'X-CSRF-Token': $('meta[name="csrf-token"]').attr('content')
        	}

        	}).success(function(data, status) {
            	$scope.html_segment = data;
        	});
	    }

	});
</script>